<!doctype html>
<html><head><title>Hackathon: Team Yosemite - Design Document</title><meta charset="UTF-8"><link href="http://fonts.googleapis.com/css?family=Crimson+Text:400,400italic,700,700italic|Roboto:400,700,700italic,400italic" rel="stylesheet" type="text/css"><style>/*
 * Copyright 2014 Quip
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License. You may obtain
 * a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 */

body {
    font-size: 15px;
    color: #333;
    background: white;
    padding: 60px 95px;
    max-width: 900px;
    margin: 0 auto;
    text-rendering: optimizeLegibility;
    font-feature-settings: "kern";
    font-kerning: normal;
    -moz-font-feature-settings: "kern";
    -webkit-font-feature-settings: "kern";
}

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6,
th {
    font-family: Roboto, sans-serif;
    font-weight: 700;
    margin: 0;
    margin-top: 1.25em;
    margin-bottom: 0.75em;
}

h1 {
    font-size: 35px;
    line-height: 42px;
}

h1:first-child {
    margin-top: 0;
}

h2 {
    font-size: 22px;
    line-height: 22px;
}

h3 {
    font-size: 18px;
    line-height: 16px;
}

h4,
h5,
h6 {
    font-size: 15px;
    line-height: 14px;
}
h5 {
    font-style: italic;
}

h6 {
    font-weight: unset;
    text-decoration: underline;
}

.capitalize-h3 h3 {
    text-transform: uppercase;
}

/* Body text */
body,
p,
ul,
ol,
td {
    font-family: "Crimson Text", serif;
    font-size: 16px;
    line-height: 20px;
}

blockquote,
q {
    display: block;
    margin: 1em 0;
    font-style: italic;
}

blockquote a,
q a {
    text-decoration: underline;
}

blockquote {
    padding-left: 10px;
    border-left: 4px solid #a6a6a6;
}

q {
    color: #a6a6a6;
    line-height: 40px;
    font-size: 24px;
    text-align: center;
    quotes: none;
}

q a {
    color: #a6a6a6;
}

code,
pre {
    font-family: Consolas, "Liberation Mono", Menlo, "Courier Prime Web",
        Courier, monospace;
    background: #f2f2f2;
}

code {
    padding: 1px;
    margin: 0 -1px;
    border-radius: 3px;
}

pre {
    display: block;
    line-height: 20px;
    text-shadow: 0 1px white;
    padding: 5px 5px 5px 30px;
    white-space: nowrap;
    position: relative;
    margin: 1em 0;
}

pre:before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 15px;
    border-left: solid 1px #dadada;
}

/* Text Alignment */
.line {
    margin-top: 0;
    margin-bottom: 0;
}

.align-center {
    text-align: center;
}

.align-right {
    text-align: end;
}

/* Lists */
div[data-section-style="5"],
div[data-section-style="6"],
div[data-section-style="7"] {
    margin: 12px 0;
}

ul {
    padding: 0 0 0 40px;
}

ul li {
    margin-bottom: 0.4em;
}

/* Bulleted list */
div[data-section-style="5"] ul {
    list-style-type: disc;
}
div[data-section-style="5"] ul ul {
    list-style-type: circle;
}
div[data-section-style="5"] ul ul ul {
    list-style-type: square;
}
div[data-section-style="5"] ul ul ul ul {
    list-style-type: disc;
}
div[data-section-style="5"] ul ul ul ul ul {
    list-style-type: circle;
}
div[data-section-style="5"] ul ul ul ul ul ul {
    list-style-type: square;
}

/* Numbered list */
div[data-section-style="6"] ul {
    list-style-type: decimal;
}
div[data-section-style="6"] ul ul {
    list-style-type: lower-alpha;
}
div[data-section-style="6"] ul ul ul {
    list-style-type: lower-roman;
}
div[data-section-style="6"] ul ul ul ul {
    list-style-type: decimal;
}
div[data-section-style="6"] ul ul ul ul ul {
    list-style-type: lower-alpha;
}
div[data-section-style="6"] ul ul ul ul ul ul {
    list-style-type: lower-roman;
}

/* Checklist */
div[data-section-style="7"] ul {
    list-style-type: none;
}

div[data-section-style="7"] ul li:before {
    content: "\2610";
    position: absolute;
    display: inline;
    margin-right: 1.2em;
    margin-left: -1.2em;
}

div[data-section-style="7"] ul li.parent:before {
    content: "";
}

div[data-section-style="7"] ul li.checked {
    text-decoration: line-through;
}

div[data-section-style="7"] ul li.checked:before {
    content: "\2611";
    text-decoration: none;
}

/* Tables */
div[data-section-style="8"] {
    margin: 12px 0;
}

table {
    border-spacing: 0;
    border-collapse: separate;
    border: solid 1px #bbb;
    table-layout: fixed;
    position: relative;
}

table th,
table td {
    padding: 2px 2px 0;
    min-width: 1.5em;
    word-wrap: break-word;
}

table th {
    border-bottom: 1px solid #c7cbd1;
    background: #f2f2f2;
    font-weight: bold;
    vertical-align: bottom;
    color: #3a4449;
    text-align: center;
}

table td {
    padding-top: 0;
    border-left: 1px solid #c7cbd1;
    border-top: 1px solid #c7cbd1;
    vertical-align: top;
}

table td.bold {
    font-weight: bold;
}

table td.italic {
    font-style: italic;
}

table td.underline {
    text-decoration: underline;
}

table td.strikethrough {
    text-decoration: line-through;
}

table td.underline.strikethrough {
    text-decoration: underline line-through;
}

table td:first-child {
    border-left: hidden;
}

table tr:first-child td {
    border-top: hidden;
}

/* Images */
div[data-section-style="11"] {
    margin-top: 20px;
    margin-bottom: 20px;
    margin-left: auto;
    margin-right: auto;
}

div[data-section-style="11"][data-section-float="0"] {
    clear: both;
    text-align: center;
}

div[data-section-style="11"][data-section-float="1"] {
    float: left;
    clear: left;
    margin-right: 20px;
}

div[data-section-style="11"][data-section-float="2"] {
    float: right;
    clear: right;
    margin-left: 20px;
}

div[data-section-style="11"] img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: auto;
}

div[data-section-style="11"].show-border {
    outline: 1px solid rgba(0, 0, 0, 0.12);
    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.05);
}

hr {
    width: 70px;
    margin: 20px auto;
}

/* Apps */
div[data-section-style="19"].placeholder {
    margin: 0.8em auto;
    padding: 4px 0;
    display: block;
    color: #3d87f5;
    text-align: center;
    border: 1px solid rgba(41, 182, 242, 0.2);
    border-radius: 3px;
    background: #e9f8fe;
    font-family: Roboto, sans-serif;
}

div[data-section-style="19"].first-party-element {
    margin-bottom: 10px;
    background-repeat: no-repeat;
    background-size: contain;
}

div[data-section-style="19"].first-party-element.kanban {
    background-image: url("https://quip-cdn.com/nK0hSyhsb4jrLIL2s5Ma-g");
    height: 166px;
}

div[data-section-style="19"].first-party-element.calendar {
    background-image: url("https://quip-cdn.com/OYujqLny03RILxcLIiyERg");
    height: 244px;
}

div[data-section-style="19"].first-party-element.poll {
    background-image: url("https://quip-cdn.com/fbIiFrcKGv__4NB7CBfxoA");
    height: 116px;
}

div[data-section-style="19"].first-party-element.countdown {
    background-image: url("https://quip-cdn.com/3bPhykD2dBei9sSjCWteTQ");
    height: 96px;
}

div[data-section-style="19"].first-party-element.process_bar {
    background-image: url("https://quip-cdn.com/ybQlHnHEIIBLog5rZmYs_w");
    height: 36px;
}

div[data-section-style="19"].first-party-element.project_tracker {
    background-image: url("https://quip-cdn.com/OFQU087b4Mxzz1ZaHwtjXA");
    height: 164px;
}

div[data-section-style="19"] img {
    margin: 0.5em;
}

div[data-section-style="19"] img.masked-image {
    margin: 0;
    transform-origin: top left;
}

div[data-section-style="19"] .image-mask {
    position: relative;
    overflow: hidden;
}
/*
 * Copyright 2019 Quip
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License. You may obtain
 * a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 */

body {
    counter-reset: indent0 indent1 indent2 indent3 indent4 indent5 indent6
        indent7 indent8;
}

/* Numbered list */
div[data-section-style="6"] {
    counter-reset: indent0 indent1 indent2 indent3 indent4 indent5 indent6
        indent7 indent8;
}
div[data-section-style="6"].list-numbering-continue {
    counter-reset: none;
}
div[data-section-style="6"].list-numbering-restart-at {
    counter-reset: indent0 var(--indent0) indent1 indent2 indent3 indent4
        indent5 indent6 indent7 indent8;
}
div[data-section-style="6"] ul {
    /* indent0 is not reset since it is shared across the div elements */
    list-style-type: none !important;
}
div[data-section-style="6"] ul ul {
    counter-reset: indent1;
}
div[data-section-style="6"] ul ul ul {
    counter-reset: indent2;
}
div[data-section-style="6"] ul ul ul ul {
    counter-reset: indent3;
}
div[data-section-style="6"] ul ul ul ul ul {
    counter-reset: indent4;
}
div[data-section-style="6"] ul ul ul ul ul ul {
    counter-reset: indent5;
}
div[data-section-style="6"] ul li {
    counter-increment: indent0;
}
div[data-section-style="6"] ul ul li {
    counter-increment: indent1;
}
div[data-section-style="6"] ul ul ul li {
    counter-increment: indent2;
}
div[data-section-style="6"] ul ul ul ul li {
    counter-increment: indent3;
}
div[data-section-style="6"] ul ul ul ul ul li {
    counter-increment: indent4;
}
div[data-section-style="6"] ul ul ul ul ul ul li {
    counter-increment: indent5;
}
div[data-section-style="6"] ul li:before {
    content: counter(indent0, decimal) ". ";
}
div[data-section-style="6"] ul ul li:before {
    content: counter(indent1, lower-alpha) ". ";
}
div[data-section-style="6"] ul ul ul li:before {
    content: counter(indent2, lower-roman) ". ";
}
div[data-section-style="6"] ul ul ul ul li:before {
    content: counter(indent3, decimal) ". ";
}
div[data-section-style="6"] ul ul ul ul ul li:before {
    content: counter(indent4, lower-alpha) ". ";
}
div[data-section-style="6"] ul ul ul ul ul ul li:before {
    content: counter(indent5, lower-roman) ". ";
}
</style></head><body><h1 id='temp:C:QXCa278a747bd4139b7f33270211'>Hackathon: Team Yosemite - Design Document</h1>

Finalized Idea: <b>Presentation Creator &amp; Notes Extractor:</b><br/>

<br/>

<u><b>Use case 1:</b></u><br/>

As a member of an AWS field sales team, I  need to use a first call deck or other  presentation to deliver the same messaging as effectively as the original speaker. It is time-consuming to practice and leverage notes from original decks, videos and other channels to replicate the original messaging and content. The finalized idea from team Yosemite is to use a first call deck video file from re:invent/summit/broadcast or any video file and extract the audio, convert the audio to text and append it to the appropriate power point slide as notes for the field sales personnel to customize and use for their needs. <br/>

<br/>

<u><b>Use case 2:</b></u><br/>

As a member of an AWS field sales team that is preparing a presentation to deliver to a customer peer or other audience, I would like to iterate and improve my messaging and content by automatically converting my speech to notes and insert it in to appropriate slides.<br/>

<br/>

The architecture and data flow for the solution consists of 7 steps<br/>

<br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/scI8_IGryOmfnC5TbzoOnQ' id='temp:C:QXCa953a74e4cfb4e40bce0a4e35' width='800' height='379' alt="image.png"></img></div><b>Step 1: </b> Build a simple UX with option to  upload  1/Video and 2/PowerPoint (Optional) 3/Check the box if you want notes to be append and not over-written. <br/>

<b><i>Complexity: Low</i></b><br/>

<br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/5XxSSrPX8DSdWlHy6gbiWw' id='temp:C:QXC4bf8c8b8d5b449b291a44527e' alt="image.png"></img></div><br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/aa5EByFhFnnEE5kmMSh2Cw' id='temp:C:QXCf346b446f2114bc39bccbe5ec' alt="image.png"></img></div><br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/iV7cQW7YV_uS-LDtJZ1Qrw' id='temp:C:QXC1afc0fc3383d4825b7673fdc3' alt="image.png"></img></div><div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/DJmL-4RnvYvb5dfjmvSrcg' id='temp:C:QXCea7b1011948743d2860b00be6' alt="image.png"></img></div><b>Step 2 and 3: </b> <br/>

Build a simple user management and authentication mechanism using Amazon Cognito.<br/>

<a href="https://cloudcompiled.com/tutorials/aws-cognito-hosted-ui/">https://cloudcompiled.com/tutorials/aws-cognito-hosted-ui/</a><br/>

We will be using just email to signup as a new user. Get the first name &amp; last name for the user.<br/>

Once user selects the file and submits the same for upload, get a pre-signed URL to upload and store the file in S3 and store the file location with some metadata in DynamoDB.<br/>

The file should go<br/>

<b><i>Complexity: Medium</i></b><br/>

<br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/8P9Kzw4x-vqbK5G2Jtef5Q' id='temp:C:QXC1fd5f52027c6439fbabee7c0f' width='800' height='509' alt="image.png"></img></div><br/>

<u><b>Job Metadata stored in DynamoDB:</b></u><br/>

<br/>

<pre id='temp:C:QXC0211804abdeb4dfebff2fa57d'>{<br>  "user_email_id": "pasamoha@amazon.com",<br>  "job_id": "baf497bb-c902-42a1-ba06-fcad41e264e",<br>  "last_updated": "2022-03-30 13:44:08.843439",<br>  "overwrite_notes": false,<br>  "update_counter": 0,<br>  "VideoFilename": "data/users/pasamoha@amazon.com/baf497bb-c902-42a1-ba06-fcad41e264e/my-presentation.mp4",<br>  "BucketName": "sagemaker-us-west-2-653878369704",<br>  "job_status": "Job Created",<br>  "PresentationFileName": "data/users/pasamoha@amazon.com/baf497bb-c902-42a1-ba06-fcad41e264e/my-presentation.pptx",<br>  "job_artifacts": {<br>    "PresentationTemplateFilename": "data/templates/presentationtemplate.pptx",<br>    "SlideTranscriptionsFilename": "data/users/pasamoha@amazon.com/baf497bb-c902-42a1-ba06-fcad41e264e/slidetranscriptions.json",<br>    "TranscriptionsFilename": "data/users/pasamoha@amazon.com/baf497bb-c902-42a1-ba06-fcad41e264e/transcriptions.json",<br>    "SlidesPrefix": "data/users/pasamoha@amazon.com/baf497bb-c902-42a1-ba06-fcad41e264e/slides",<br>    "SlideTransitionsFilename": "data/users/pasamoha@amazon.com/baf497bb-c902-42a1-ba06-fcad41e264e/slidetransitions.json"<br>  }<br>}</pre>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/P17zaklXNtZK1e4LDm0aWg' id='temp:C:QXCfd2a64f54a8849ab8db270ff7' width='800' height='220' alt="image.png"></img></div><br/>

<u><b>App Metadata stored in DynamoDB:</b></u><br/>

<br/>

<pre id='temp:C:QXC4fa9130552744ef8928b5e3f4'>{<br> "application_id": "1db38593-e6d5-4657-8e09-dc71b8df3d58",<br> "SendEmailQueueName": "ugh-pca_Send_Email",<br> "BucketPrefix": "data",<br> "TranscriptionsFilename": "transcriptions.json",<br> "PresentationTemplateFilename": "presentationtemplate.pptx",<br> "CreatePresentationQueueName": "ugh-pca_Create_Presentation",<br> "application_name": "unicorn-gym-hackathon-presentation-creator-app",<br> "TemplatesPrefix": "|BucketPrefix/templates",<br> "application_code": "uga_pca",<br> "SlideTransitionsFilename": "slidetransitions.json",<br> "SlideTranscriptionsFilename": "slidetranscriptions.json",<br> "SlidesPrefix": "|JobPrefix/slides",<br> "BucketName": "unicorn-gym-hackathon-presentation-creator-app",<br> "JobPrefix": "|BucketPrefix/users/|user_email_id/|job_id"<br>}</pre>

<br/>

<u><b>NOTE:</b></u><br/>

Use the user <b>email/generated GUID</b> as the prefix in the S3 bucket. All the other metadata is saved to DynamoDB. The final JSON payload that is put in the SQS is as shown below:<br/>

<pre id='temp:C:QXC8a05d905e1844350b7a875004'>{<br> "user_email_id": "pasamoha@amazon.com",<br> "job_id": "baf497bb-c902-42a1-ba06-fcad41e264e"<br>}</pre>

<br/>

<b>Step 4: </b><br/>

Process: For each uploaded file, leverage step-functions and process the same for Elemental(Audio Extraction) and Transcribe (Audio to text), need to explore using Rekognition video segmentation API or other image processing python libraries.<br/>

Output: Save the audio file and the transcribed text in a location. Update the file metadata with the location of the audio and transcribed text. <i><b>NOTE: Marking the slide transition is key.</b></i><br/>

<i><b>Complexity</b></i>: <b>High </b><br/>

<br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/QjYGi0GebJUxmVhXYn2lKA' id='temp:C:QXCcad359f49b894d0db41981594' width='800' height='394' alt="image.png"></img></div><br/>

<u><b>NOTE:</b></u><br/>

The final JSON payload that is put in the SQS is as shown below:<br/>

<br/>

<pre id='temp:C:QXC4fc7fc8f173643e1849dd9b7a'>{<br> "user_email_id": "pasamoha@amazon.com",<br> "job_id": "baf497bb-c902-42a1-ba06-fcad41e264e"<br>}</pre>

<br/>

<b>TranscriptionTextFile Sample:</b><br/>

<br/>

<pre id='temp:C:QXC19282f39505740229915ff975'>{<br>    "items": [<br>        {<br>            "start_time": "0.04",<br>            "end_time": "1.08",<br>            "alternatives": [<br>                {<br>                "confidence": "1.0",<br>                "content": "slide"<br>                }<br>            ],<br>            "type": "pronunciation"<br>        },<br>        {<br>            "start_time": "1.08",<br>            "end_time": "1.28",<br>            "alternatives": [<br>                {<br>                "confidence": "1.0",<br>                "content": "number"<br>                }<br>            ],<br>            "type": "pronunciation"<br>        },<br>        {<br>            "start_time": "1.28",<br>            "end_time": "1.4",<br>            "alternatives": [<br>                {<br>                "confidence": "1.0",<br>                "content": "one"<br>                }<br>            ],<br>            "type": "pronunciation"<br>        }<br>    ]<br>}</pre>

<br/>

<b>SlideTransitionFile Sample:</b><br/>

<br/>

<pre id='temp:C:QXCa8404b8e5b9b43ba9f94293ba'>{<br>    "slide_prefix" : "slide-",<br>    "slide_image_mime_type" : "png",<br>    "Slides": [<br>        {<br>            "slide_number": 1,<br>            "start_time": "0",<br>            "end_time": "9.62"<br>        },<br>        {<br>            "slide_number": 2,<br>            "start_time": "10.19",<br>            "end_time": "20.86"<br>        },<br>        {<br>            "slide_number": 3,<br>            "start_time": "21.51",<br>            "end_time": "37.52"<br>        }<br>    ]<br>}</pre>

<br/>

<b>Step 5:</b><br/>

Merge the PowerPoint <b>SlideTransitionFile </b>slides information with the notes from the transcribed results in <b>TranscriptionTextFile</b> based on the timestamp data.<br/>

<b><i>Complexity: Medium</i></b><br/>

<br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/iu8vQxiV1a2k-fWsKqY8tw' id='temp:C:QXC58d3906314f04f9dbd0a747be' alt="image.png"></img></div><br/>

<br/>

The merged output sample is shown below.<br/>

<pre id='temp:C:QXC4d917bc48d494c1a80100a388'>{<br>  "slides": [<br>    {<br>      "slidenumber": 1,<br>      "slideimage": "slide-1.png",<br>      "transcript": " This is The slide number one."<br>    },<br>    {<br>      "slidenumber": 2,<br>      "slideimage": "slide-2.png",<br>      "transcript": "This is slide number two."<br>    },<br>    {<br>      "slidenumber": 3,<br>      "slideimage": "slide-3.png",<br>      "transcript": "This is a slide number three."<br>    }<br>  ]<br>}</pre>

<br/>

<b>Step 6 and 7:</b><br/>

Create or update the PowerPoint with notes from Step5. If over-write is false then just append to the notes section, but include a timestamp to identify the data/time of updating the notes.<br/>

Created a pre-signed URL and send an email to the end-user with a link to the pre-signed URL to download the presentation.<br/>

<b><i>Complexity: Medium</i></b><br/>

<div data-section-style='11' style='max-width:100%' class=''><img src='https://quip-amazon.com/blob/QXC9AAeiPwO/ZVZUOYdtbe7xyNDK7vjvtA' id='temp:C:QXCf2bf4817ff4b42aaa856ac8bc' alt="image.png"></img></div><br/>

</body></html>